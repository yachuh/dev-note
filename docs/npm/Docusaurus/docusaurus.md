---
title: "[Docusaurus] 基本介紹"
tags: [npm, docusaurus]
sidebar_position: 1
---

> v3.4.0



## Installation

> [CLI | Docusaurus](https://docusaurus.io/docs/installation#cli)

**建立專案**

```bash
$ npx create-docusaurus@latest my-website classic --typescript
```

這裡安裝的是 `classic` 範本、搭配 Typescript（ `--typescript`）。

**查看版本**

```bash
$ npx docusaurus -V
```

### Folder Structure

```
my-website
├── blog
│   ├── 2019-05-28-hola.md
│   ├── 2019-05-29-hello-world.md
│   └── 2020-05-30-welcome.md
├── docs
│   ├── doc1.md
│   ├── doc2.md
│   ├── doc3.md
│   └── mdx.md
├── src
│   ├── css
│   │   └── custom.css
│   └── pages
│       ├── styles.module.css
│       └── index.js
├── static
│   └── img
├── docusaurus.config.js
├── package.json
├── README.md
├── sidebars.js
└── yarn.lock
```
- `/blog/`：存放 blog 文章
- `/docs/`：存放 doc 文件
- `/src/`：存放非文件的相關資產，像是 `/pages/` 資料夾用來存放 `homepage`、`about` 等頁面，`/components/`資料夾用來存放共用的元件
- `/static/`：存放靜態資料，像是圖片
- `/docusaurus.config.js`：網站的設定檔
- `sidebars.js`：用於 doc 的側邊欄，可以自行建立新的側邊欄，也可以使用自動生成的側邊欄。



## Configurations

> [docusaurus.config.js](https://docusaurus.io/docs/api/docusaurus-config)

```ts title="docusaurus.config.ts"
import type { Config } from '@docusaurus/types';

export default {
  title: 'Docusaurus',
  tagline: 'Dinosaurs are cool',
  favicon: 'img/favicon.ico',
  // Set the production url of your site here
  url: 'https://your-docusaurus-site.example.com',
  // Set the /<baseUrl>/ pathname under which your site is served
  // For GitHub pages deployment, it is often '/<projectName>/'
  baseUrl: '/',

  // GitHub repo 相關設定，沒有要使用 `docusaurus deploy` 可以不用設定
  organizationName: 'facebook', // GitHub repo 的 user 或 organization 名稱
  projectName: 'docusaurus', // GitHub repo 的名稱

  // your site config ...
} satisfies Config;
```

Docusaurus 的配置檔包含：
- 網站 metadata：像是 `title`、`tagline`、`url`、`baseUrl`、`favicon`...等
- 部署相關設定 (Deployment configurations)：像是 `organizationName`、`projectName`、`deploymentBranch`...等（詳見 [Deployment](https://docusaurus.io/docs/deployment)）
- 各種 Theme, plugin...等配置設定



## Docs 文件

### 建立新文件
在 `/docs` 資料夾建立一個新的 markdown 文件（`.md` 或 `.mdx`）。
```
website # root directory of your site
├── docs
│   ├── my-first-doc.md # 直接在 docs 底下新增 .md 文件
│   └── categoryName # 在 docs 底下建立子分類資料夾
│       ├── page1.md # 在子分類下新增子文件
│       └── page2.md
├── src
│   └── pages
├── docusaurus.config.js
├── ...
```

### Doc 的 Front Matter
[Front Matter](https://docusaurus.io/docs/markdown-features#front-matter) —— 位於文件最上方，以 yaml 格式撰寫、包覆在 `---` 中。用來為 Markdown 文章加上 metadata，來設定文件的標題、標籤(tags)、位置等。

```md title="my-first-doc.md"
---
title: "my-first-doc" # 文件標題
description: "This is my first doc" // 文件描述
tags: [npm, docusaurus] # 標籤 
slug: /my-first-doc # 用來修改文件的 slug url，不寫的話默認為文件名
---
```

### Sidebar
> [Sidebar](https://docusaurus.io/docs/sidebar)

在文件 metadata 中設定 sidebar 的 label 與 position：
```md title="docs/my-first-doc.md"
---
sidebar_label: "My First Doc" # 文件在 sidebar 的名稱
sidebar_position: 1 # 文件在 sidebar 的位置
---
```

Docusaurus 會根據 `docs` 資料夾結構[自動產生 sidebar](https://docusaurus.io/docs/sidebar/autogenerated)：
```ts title="sidebar.ts"
export default {
  tutorialSidebar: [
    {
      type: 'autogenerated', 
      dirName: '.' // 從 docs 資料夾自動產生 sidebar
      }
  ],
};
```

也可以手動設定 sidebar 的結構：
```ts title="sidebar.ts"
export default {
  tutorialSidebar: [
    'intro',
    'hello',
    {
      type: 'category',
      label: 'Tutorial',
      items: ['tutorial-basics/create-a-document'],
    },
  ],
};
```

> [!NOTE]
>
> 更複雜的 Sidebar 設置可以參考 Docusaurus 自家網站的配置：https://docusaurus.io/docs/sidebar#complex-sidebars-example

### Sidebar items

> https://docusaurus.io/docs/sidebar/items

Sidebar item 的 `type` 可以分成這幾種：

- `doc`：連到 doc 頁面
- `link`：連到內部或外部的頁面
- `category`：可展開的階層式 dropdown
- `autogenerated`：自動建立 sidebar items
- `html`：渲染 pure HTML
- `ref`：連到 doc

#### `DocCardList`

```ts title="docs/dievar/index.md"
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

![image-20240909170856963](/Users/yachu_hsieh/Library/Application Support/typora-user-images/image-20240909170856963.png)

#### Category item metadata

在 category 資料夾內建立 `_category_.json` 或 `_category_.yml` 設定檔，來設定 sidebar 分類的名稱、描述。

```json title="_category_.json"
{
  "label": "分類 A",
  "position": 2,
  "collapsible": true,
  "collapsed": false,
  "className": "red",
  "link": {
    "type": "generated-index",
    "title": "分類連結的名稱"
    "description": "分類的描述"
  },
  "customProps": {
    description: "This description can be used in the swizzled DocCard"
  }
}
```
- `label`：分類在 sidebar 的名稱
- `position`：分類在 sidebar 的位置
- `link`：為分類建立一個單獨的連結


## Markdown Features
> [Markdown Features](https://docusaurus.io/docs/markdown-features)

### Code Blocks
> [Code Blocks](https://docusaurus.io/docs/code-blocks)
#### 加上標題
````markdowns
```js title="標題"
// your code...
```
````

#### 特定行數標記重點
##### 透過註解加上標記 (Highlighting with comments)
在 code block 中透過「註解」的方式來替特定行數畫記重點，這些註解並不會在最後顯示在程式碼區塊中：
- 使用 `// highlight-next-line` 標記下一行
- 使用 `// highlight-start` 與 `// highlight-end` 標記之中的程式碼

````markdown
```js
function HighlightNextLine(highlight) {
  if (highlight) {
    // highlight-next-line
    return 'This line is highlighted!';
  }

  return 'Nothing highlighted';
}

function HighlightMultipleLines(highlight) {
  // highlight-start
  if (highlight) {
    return 'This range is highlighted!';
  }
  // highlight-end

  return 'Nothing highlighted';
}
```
````

##### 透過 metadata 加上標記 (Highlighting with metadata string)
